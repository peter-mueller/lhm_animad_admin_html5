<html><head></head><body><dom-module id="animad-keepers-list"><template><style>section{width:100%;height:300px;@apply --layout-vertical;}section paper-dialog-scrollable{@apply --layout-flex;}</style><app-location route="{{route}}" url-space-regex="^[[rootPath]]" use-hash-as-path=""></app-location><app-route route="{{route}}" pattern="[[rootPath]]:page" data="{{routeData}}" active="{{active}}" tail="{{subroute}}"></app-route><common-security-check permission="administration_DELETE_Keeper" not-allowed="{{_noDeleteAllowed}}"></common-security-check><common-security-check permission="administration_WRITE_Keeper" not-allowed="{{_noWriteAllowed}}"></common-security-check><animad-list-header id="animad-list-header-search" placeholder-search="[[_setSearchText('search_placeholder')]]" placeholder-delete="Löschen" placeholder-new="Neu" all-filters="[[_localizedFilters]]" selected-filters="{{_selectedFilters}}" search="{{_search}}" on-search="_searchData" on-filter-selection="_filterSelectionData" on-delete="_confirmDeleteSelected" on-new="_handleNew" disable-delete-button="[[_disableDeleteButton]]" hide-header="[[_hideSearchHeader(hideHeader)]]" hide-new-button="[[hideNew]]" hide-delete-button="[[hideDelete]]" hide-filter-button="[[hideFilter]]" disable-new-button="[[disableNew]]" show-results="[[showResults]]" results-text="[[resultsText]]" icon="[[icon]]"></animad-list-header><animad-list-header id="animad-list-header-filter" placeholder-search="[[$t('filter_placeholder')]]" placeholder-delete="Löschen" placeholder-new="Neu" all-filters="[[_localizedFilters]]" selected-filters="{{_selectedFilters}}" search="{{_filterString}}" on-filter="_filterData" on-filter-selection="_filterSelectionData" on-delete="_confirmDeleteSelected" on-new="_handleNew" disable-delete-button="[[_disableDeleteButton]]" hide-header="[[_hideFilterHeader(hideHeader)]]" hide-new-button="[[hideNew]]" hide-delete-button="[[hideDelete]]" hide-filter-button="[[hideFilter]]" disable-filter-button="[[disableFilter]]" disable-new-button="[[disableNew]]" show-results="[[showResults]]" results-text="[[resultsText]]" icon="[[icon]]"></animad-list-header><paper-dialog id="dialogDeleteSelected"><h2>[[$t('modal_delete_header')]]</h2><p>[[$t('modal_delete_text_multi')]]</p><paper-item><paper-button raised="" dialog-confirm="" on-click="_deleteSelectedRows">[[$t('modal_delete_button_yes')]]</paper-button><paper-button raised="" dialog-dismiss="" on-click="_unsetTemporaryDeleteInfo" autofocus="">[[$t('modal_delete_button_no')]]</paper-button></paper-item></paper-dialog><paper-dialog id="dialogDeleteItem"><h2>[[$t('modal_delete_header')]]</h2><p>[[$t('modal_delete_text_single')]] [[_deleteInfo]]</p><paper-item><paper-button raised="" dialog-confirm="" on-click="_deleteSelectedRows">[[$t('modal_delete_button_yes')]]</paper-button><paper-button raised="" dialog-dismiss="" on-click="_unsetTemporaryDeleteInfo" autofocus="">[[$t('modal_delete_button_no')]]</paper-button></paper-item></paper-dialog><template is="dom-if" if="[[_isOfType('list')]]"><section><paper-dialog-scrollable><paper-listbox><template is="dom-repeat" items="[[filteredData]]"><paper-icon-item><iron-icon icon="animad-icons:[[_entity]]" slot="item-icon"></iron-icon><paper-item-body two-line=""><div>[[_format('list_first_line', item)]]</div><div secondary="">[[_format('list_second_line', item)]]</div></paper-item-body><paper-icon-button icon="animad-icons:delete" id="[[item.id]]" hidden="[[hideDelete]]" on-click="_confirmDeleteRow"></paper-icon-button><paper-icon-button icon="animad-icons:mode-edit" id="[[item.id]]" hidden="[[hideEdit]]" on-click="_editRow"></paper-icon-button></paper-icon-item></template></paper-listbox></paper-dialog-scrollable></section></template><template is="dom-if" if="[[_isOfType('table')]]"><vaadin-grid id="animad-list" items="[[filteredData]]" multi-sort="[[multiSort]]" selected-items="{{_selectedItems}}"><vaadin-grid-selection-column auto-select=""></vaadin-grid-selection-column><vaadin-grid-column width="50px" flex-grow="0"><template class="header">#</template><template>[[index]]</template></vaadin-grid-column><vaadin-grid-column><template class="header"><vaadin-grid-sorter path="id">[[$t('id')]]</vaadin-grid-sorter></template><template>[[item.id]]</template></vaadin-grid-column><vaadin-grid-column><template class="header"><vaadin-grid-sorter path="firstName">[[$t('firstName')]]</vaadin-grid-sorter></template><template>[[item.firstName]]</template></vaadin-grid-column><vaadin-grid-column><template class="header"><vaadin-grid-sorter path="lastName">[[$t('lastName')]]</vaadin-grid-sorter></template><template>[[item.lastName]]</template></vaadin-grid-column><vaadin-grid-column><template class="header"><vaadin-grid-sorter path="employmentDate">[[$t('employmentDate')]]</vaadin-grid-sorter></template><template>[[item.employmentDate]]</template></vaadin-grid-column><vaadin-grid-column><template class="header"><vaadin-grid-sorter path="skill">[[$t('skill')]]</vaadin-grid-sorter></template><template>[[translateCSV('skill', item.skill)]]</template></vaadin-grid-column><vaadin-grid-column><template class="header"><vaadin-grid-sorter path="birthday">[[$t('birthday')]]</vaadin-grid-sorter></template><template>[[item.birthday]]</template></vaadin-grid-column><vaadin-grid-column><template class="header"><vaadin-grid-sorter path="salary">[[$t('salary')]]</vaadin-grid-sorter></template><template>[[item.salary]]</template></vaadin-grid-column><vaadin-grid-column><template><paper-icon-button icon="animad-icons:delete" id="[[item.id]]" hidden="[[hideDelete]]" on-click="_confirmDeleteRow"></paper-icon-button></template></vaadin-grid-column><vaadin-grid-column><template><paper-icon-button icon="animad-icons:mode-edit" id="[[item.id]]" hidden="[[hideEdit]]" on-click="_editRow"></paper-icon-button></template></vaadin-grid-column></vaadin-grid></template></template><script>var AnimadKeepersList=function(a){function b(){return babelHelpers.classCallCheck(this,b),babelHelpers.possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return babelHelpers.inherits(b,a),babelHelpers.createClass(b,[{key:'_handleNew',value:function(){var a=this.createPath;this.set('route.path',a)}},{key:'_editRow',value:function(a){var b=this.editPath+'/'+a.target.id;this.set('route.path',b)}},{key:'_confirmDeleteRow',value:function(a){var c=this.filteredData.findIndex(function(b){return b.id==a.target.id}),d=this.filteredData[c];this._deleteInfo=this.$t('modal_deleteinfo',{firstName:d.firstName,lastName:d.lastName,employmentDate:d.employmentDate,skill:d.skill,birthday:d.birthday,salary:d.salary}),babelHelpers.get(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),'_confirmDeleteRow',this).call(this,a)}},{key:'_searchData',value:function(a){this._search=a.target.search.toLowerCase(),babelHelpers.get(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),'_fetchData',this).call(this,this._search)}},{key:'_format',value:function(a,b){var c=this.translateItem(b,[],['skill']);return this.$t(a,{firstName:b.firstName,lastName:b.lastName,birthday:b.birthday,employmentDate:b.employmentDate,skill:c.skill,salary:b.salary})}}],[{key:'is',get:function(){return'animad-keepers-list'}},{key:'properties',get:function(){return{_domain:{type:String,value:'animad'},_entity:{type:String,value:'keeper'},$t:{type:Function}}}}]),b}(mix(Polymer.Element).with(Nebula.PolyglotBehavior,AnimadListBehavior));customElements.define(AnimadKeepersList.is,AnimadKeepersList);</script></dom-module></body></html>